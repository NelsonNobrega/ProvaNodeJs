¼ÐµÑ‚Ñ€Ð°Ð¼Ð¸ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ñ–ÐšÐµÑ€ÑƒÐ²Ð°Ñ‚Ð¸ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼Ð¸ Ð±ÐµÐ·Ð¿ÐµÐºÐ¸Ð”Ð¾ÐºÐ»Ð°Ð´Ð½Ñ–ÑˆÐµ Ð¿Ñ€Ð¾ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¸Ð²Ð½Ñ–ÑÑ‚ÑŒÐ”Ð¾ÐºÐ»Ð°Ð´Ð½Ñ–ÑˆÐµ Ð¿Ñ€Ð¾ Ð±ÐµÐ·Ð¿ÐµÐºÑƒThe $1 Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ Ð´ÐµÑÐºÐ¸Ñ… Ñ„Ð¾Ð½Ð¾Ð²Ð¸Ñ… Ð²ÐºÐ»Ð°Ð´Ð¾Ðº Ð²Ð¸ÑÐ¾ÐºÐµ. Ð’Ð¸Ð±ÐµÑ€Ñ–Ñ‚ÑŒâ€¦ Ñ‰Ð¾Ð± Ð¿ÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð² Ñ€ÐµÐ¶Ð¸Ð¼ ÑÐ½Ñƒ Ð°Ð±Ð¾ Ð·Ð°ÐºÑ€Ð¸Ñ‚Ð¸ Ð´ÐµÑÐºÑ– Ð°Ð±Ð¾ Ð²ÑÑ– Ð²ÐºÐ»Ð°Ð´ÐºÐ¸ Ð½Ð¸Ð¶Ñ‡Ðµ.Ð¿Ð°Ð¼â€™ÑÑ‚ÑŒÐ¿Ð°Ð¼'ÑÑ‚ÑŒ Ñ– Ð¦ÐŸÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ñƒ Ñ„Ð¾Ñ€Ð¼Ð¸ Ð²Ð¸Ñ€Ñ–ÑˆÐµÐ½Ð¾ÐŸÐ°Ð¼'ÑÑ‚ÑŒ Ñ– Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ Ð¦ÐŸ Ñ„Ð¾Ð½Ð¾Ð²Ð¸Ñ… Ð²ÐºÐ»Ð°Ð´Ð¾Ðº $1!Ð·Ð°Ñ€Ð°Ð· Ð½Ð¸Ð·ÑŒÐºÐ¸Ð¹Ð—Ð°ÐºÑ€Ð¸Ñ‚Ð¸ Ñ†Ñ– Ð²ÐºÐ»Ð°Ð´ÐºÐ¸Ð—Ð°ÑÐ¸Ð½Ð°Ñ‚Ð¸ Ð½Ð° Ñ†Ð¸Ñ… Ð²ÐºÐ»Ð°Ð´ÐºÐ°Ñ…Ð’ÐºÐ»Ð°Ð´ÐºÐ¸ Ð·Ð°ÐºÑ€Ð¸Ñ‚Ð¾.Ð’ÐºÐ»Ð°Ð´ÐºÐ¸ Ð· Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ñ–ÑÑ‚ÑŽ ÑÐ½Ñƒ Ð¿ÐµÑ€ÐµÐ²ÐµÐ´ÐµÐ½Ð¾ Ð² Ñ€ÐµÐ¶Ð¸Ð¼ ÑÐ½Ñƒ.Ð’ÐºÐ»Ð°Ð´ÐºÐ¸ Ð·Ð°ÐºÑ€Ð¸Ñ‚Ð¾. $1Ð’ Ñ–Ð½ÑˆÐ¸Ñ… Ð¿Ñ€Ð¾Ñ„Ñ–Ð»ÑÑ… Ð¼Ð¾Ð¶ÑƒÑ‚ÑŒ Ð±ÑƒÑ‚Ð¸ Ð²ÐºÐ»Ð°Ð´ÐºÐ¸, ÑÐºÑ– Ð¼Ð¾Ð¶Ð½Ð° Ð·Ð°ÐºÑ€Ð¸Ñ‚Ð¸.Ð’ÐºÐ»Ð°Ð´ÐºÐ¸, Ð´Ð»Ñ ÑÐºÐ¸Ñ… Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ñ‚Ð°ÐºÐ° Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ñ–ÑÑ‚ÑŒ, Ð¿ÐµÑ€ÐµÐ²ÐµÐ´ÐµÐ½Ð¾ Ð² Ñ€ÐµÐ¶Ð¸Ð¼ ÑÐ½Ñƒ. $1Ð’ Ñ–Ð½ÑˆÐ¸Ñ… Ð¿Ñ€Ð¾Ñ„Ñ–Ð»ÑÑ… Ð¼Ð¾Ð¶ÑƒÑ‚ÑŒ Ð±ÑƒÑ‚Ð¸ Ð²ÐºÐ»Ð°Ð´ÐºÐ¸, ÑÐºÑ– Ð¼Ð¾Ð¶Ð½Ð° Ð¿ÐµÑ€ÐµÐ²ÐµÑÑ‚Ð¸ Ð² Ñ€ÐµÐ¶Ð¸Ð¼ ÑÐ½Ñƒ.$1$2Ð’ÐºÐ»Ð°Ð´ÐºÐ¸, Ð´Ð»Ñ ÑÐºÐ¸Ñ… Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ñ‚Ð°ÐºÐ° Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ñ–ÑÑ‚ÑŒ, ÑƒÐ¶Ðµ Ð¿ÐµÑ€ÐµÐ±ÑƒÐ²Ð°ÑŽÑ‚ÑŒ Ñƒ Ñ€ÐµÐ¶Ð¸Ð¼Ñ– ÑÐ½Ñƒ.Ð—Ð°Ñ…Ð¸ÑÑ‚ Ð¿ÐµÑ€ÐµÐ³Ð»ÑÐ´Ñƒ (Ð¾ÑÑ‚Ð°Ð½Ð½Ñ– 30 Ð´Ð½Ñ–Ð²)ÐŸÑ€Ð¾ÑÐºÐ°Ð½Ð¾Ð²Ð°Ð½Ð¾ ÑÐ°Ð¹Ñ‚Ñ–Ð²ÐŸÑ€Ð¾ÑÐºÐ°Ð½Ð¾Ð²Ð°Ð½Ð¾ Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½ÑŒMicrosoft Edge Ð·Ð°Ñ…Ð¸Ñ‰Ð°Ñ” ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ñ–Ð² Ñƒ Ð²ÑÑŒÐ¾Ð¼Ñƒ ÑÐ²Ñ–Ñ‚Ñ–Ð—Ð°Ð±Ð»Ð¾ÐºÐ¾Ð²Ð°Ð½Ð¾ Ð½ÐµÐ±ÐµÐ·Ð¿ÐµÑ‡Ð½Ð¸Ñ… ÑÐ°Ð¹Ñ‚Ñ–Ð²1 Ð¼Ð»Ñ€Ð´Ð—Ð°Ð±Ð»Ð¾ÐºÐ¾Ð²Ð°Ð½Ð¾ Ð½ÐµÐ±ÐµÐ·Ð¿ÐµÑ‡Ð½Ð¸Ñ… Ð·Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½ÑŒ21 Ð¼Ð»Ð½Ð Ð¸Ð·Ð¸ÐºÐ¸ ÑƒÑÑƒÐ½ÑƒÑ‚Ð¾ÐÐ° Ð¾ÑÐ½Ð¾Ð²Ñ– Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ñ– Ð²Ð°ÑˆÐ¾Ð³Ð¾ Ð¿Ñ€Ð¸ÑÑ‚Ñ€Ð¾ÑŽ Ð·Ð° Ð¾ÑÑ‚Ð°Ð½Ð½Ñ– 30 Ð´Ð½Ñ–Ð²Ð—Ð°Ð±Ð»Ð¾ÐºÐ¾Ð²Ð°Ð½Ñ– ÑÐ°Ð¹Ñ‚Ð¸Microsoft Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ” ÑÑƒÐ´Ð¾Ð²Ðµ Ñ€Ñ–ÑˆÐµÐ½Ð½Ñ, Ñ‰Ð¾Ð± Ð·ÑƒÐ¿Ð¸Ð½Ð¸Ñ‚Ð¸ Ð°Ñ‚Ð°ÐºÐ¸ Ð· Ð²Ð¸Ð¼Ð¾Ð³Ð¾ÑŽ Ð²Ð¸ÐºÑƒÐ¿Ñƒ Ð½Ð° ÑÐµÐºÑ‚Ð¾Ñ€ Ð¾Ñ…Ð¾Ñ€Ð¾Ð½Ð¸ Ð·Ð´Ð¾Ñ€Ð¾Ð²â€™Ñhttps://go.microsoft.com/fwlink/?linkid=2237469Ð¡Ñ‚Ð°Ñ‚Ñ‚Ñ– Ð· Ð½Ð¾Ð²Ð¸Ð½Ð°Ð¼Ð¸ Ð´Ð»Ñ Ð²Ð°ÑÐ—Ð°Ð±Ð»Ð¾ÐºÐ¾Ð²Ð°Ð½Ñ– ÐµÐ»ÐµÐ¼ÐµÐ½Ñ‚Ð¸ÐžÐ½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¾Ð’Ð¸ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ”Ñ‚Ðµ Ð½Ð°Ð¹Ð½Ð¾Ð²Ñ–ÑˆÑƒ Ð²ÐµÑ€ÑÑ–ÑŽ Microsoft Edge.Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¸Ð¹ (Ð·Ð° Ð·Ð°Ð¼Ð¾Ð²Ñ‡ÑƒÐ²Ð°Ð½Ð½ÑÐ¼)Ð—Ñ– Ð·Ð±ÐµÑ€ÐµÐ¶ÐµÐ½Ð½ÑÐ¼ Ð±Ð°Ð»Ð°Ð½ÑÑƒ (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð¾Ð²Ð°Ð½Ð¾)Ð—Ð°Ð¾Ñ‰Ð°Ð´Ð¶ÐµÐ½Ð½ÑÐ¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¸Ð²Ð½Ñ–ÑÑ‚ÑŒÐŸÐµÑ€ÐµÐ¹Ð´Ñ–Ñ‚ÑŒ Ð½Ð° Ñ€ÐµÐ¶Ð¸Ð¼ ÐµÐºÐ¾Ð½Ð¾Ð¼Ñ–Ñ— ÐµÐ½ÐµÑ€Ð³Ñ–Ñ— Ñƒ Ñ€Ð°Ð·Ñ– 20% Ð·Ð°Ñ€ÑÐ´Ñƒ Ð°ÐºÑƒÐ¼ÑƒÐ»ÑÑ‚Ð¾Ñ€Ð°Ð¡Ð¿Ð»ÑÑ‡Ñ– Ð²ÐºÐ»Ð°Ð´ÐºÐ¸Ð”Ð¾Ð´Ð°Ñ‚Ð¸ ÑÐ°Ð¹Ñ‚ Ð´Ð¾ ÑÐ¿Ð¸ÑÐºÑƒ Ð·Ð°Ð±Ð»Ð¾ÐºÐ¾Ð²Ð°Ð½Ð¸Ñ…ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚Ð¸ ÐºÐ½Ð¾Ð¿ÐºÑƒ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ñ– Ð½Ð° Ð¿Ð°Ð½ÐµÐ»Ñ– Ñ–Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ–Ð²ÐŸÑ€Ð¸Ñ…Ð¾Ð²Ð°Ñ‚Ð¸ ÐºÐ½Ð¾Ð¿ÐºÑƒ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ñ– Ð· Ð¿Ð°Ð½ÐµÐ»Ñ– Ñ–Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ–Ð²Ð¤Ð¾Ð½Ð¾Ð²Ñ– Ð²ÐºÐ»Ð°Ð´ÐºÐ¸ÐŸÐ°Ð¼'ÑÑ‚ÑŒ Ñ– Ð¦ÐŸÐ’Ð¸ÑÐ¾ÐºÐ¸Ð¹ Ñ€Ñ–Ð²ÐµÐ½ÑŒ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½ÑÐÐ¸Ð·ÑŒÐºÐ¸Ð¹ Ñ€Ñ–Ð²ÐµÐ½ÑŒ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½ÑÐŸÐ°Ð¼â€™ÑÑ‚ÑŒ Ñ„Ð¾Ð½Ð¾Ð²Ð¸Ñ… Ð²ÐºÐ»Ð°Ð´Ð¾Ðº Ñ– Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ Ð¦ÐŸÐ’ÐºÐ»Ð°Ð´ÐºÐ¸ Ð· Ð²Ð¸ÑÐ¾ÐºÐ¸Ð¼ Ñ€Ñ–Ð²Ð½ÐµÐ¼ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½ÑÐ£Ð²Ñ–Ð¼ÐºÐ½Ñ–Ñ‚ÑŒ Ð´ÐµÑ‚ÐµÐºÑ‚Ð¾Ñ€ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ñ–, Ñ‰Ð¾Ð± Ð²Ð¸Ð·Ð½Ð°Ñ‡Ð°Ñ‚Ð¸ Ñ‚Ð° Ð²Ð¸Ð¿Ñ€Ð°Ð²Ð»ÑÑ‚Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð¸ Ð· Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¸Ð²Ð½Ñ–ÑÑ‚ÑŽ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ð°.Ð’Ð°Ñˆ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€ Ð²Ð¸ÑÐ²Ð»ÑÑ” Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð¸ Ð· Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ð¸Ð²Ð½Ñ–ÑÑ‚ÑŽ Ñ‚Ð° Ð¿Ñ€Ð¾Ð¿Ð¾Ð½ÑƒÑ” Ð´ÐµÑÐºÑ– Ð´Ñ–Ñ—, ÑÐºÑ– Ð¼Ð¾Ð¶ÑƒÑ‚ÑŒ Ð´Ð¾Ð¿Ð¾Ð¼Ð¾Ð³Ñ‚Ð¸ Ð²Ð¸Ñ€Ñ–ÑˆÐ¸Ñ‚Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñƒ.Ð’ÐºÐ»Ð°Ð´ÐºÐ° InPrivateÐ’ÐºÐ»Ð°Ð´ÐºÐ° Ð²Ñ–Ð´ÐºÑ€Ð¸Ñ‚Ð° Ð² Ð¿Ñ€Ð¾Ñ„Ñ–Ð»Ñ– $1Ð£Ð¶Ð¸Ñ‚Ð¸ Ð·Ð°Ñ…Ð¾Ð´Ñ–Ð²Ð”Ñ–Ñ— Ð´Ð»Ñ $1ÐŸÐµÑ€ÐµÐ²ÐµÑÑ‚Ð¸ Ñ†ÑŽ Ð²ÐºÐ»Ð°Ð´ÐºÑƒ Ð² Ñ€ÐµÐ¶Ð¸Ð¼ ÑÐ½Ñƒ Ð· Ð²Ñ–ÐºÐ½Ð° InPrivateÐ’Ð¸Ð»ÑƒÑ‡Ð¸Ñ‚Ð¸ Ñ†ÑŽ Ð²ÐºÐ»Ð°Ð´ÐºÑƒ Ð· Ð²Ñ–ÐºÐ½Ð° InPrivateÐ—Ð°ÐºÑ€Ð¸Ñ‚Ð¸ Ñ†ÑŽ Ð²ÐºÐ»Ð°Ð´ÐºÑƒ Ð· Ð²Ñ–ÐºÐ½Ð° InPrivateÐŸÐµÑ€ÐµÐ²ÐµÑÑ‚Ð¸ Ñ†ÑŽ Ð²ÐºÐ»Ð°Ð´ÐºÑƒ Ð² Ñ€ÐµÐ¶Ð¸Ð¼ ÑÐ½Ñƒ Ð· $1 Ð¿Ñ€Ð¾Ñ„Ñ–Ð»ÑŽÐ’Ð¸Ð»ÑƒÑ‡Ð¸Ñ‚Ð¸ Ñ†ÑŽ Ð²ÐºÐ»Ð°Ð´ÐºÑƒ Ð· $1 Ð¿Ñ€Ð¾Ñ„Ñ–Ð»ÑŽÐ—Ð°ÐºÑ€Ð¸Ñ‚Ð¸ Ñ†ÑŽ Ð²ÐºÐ»Ð°Ð´ÐºÑƒ Ð· $1 Ð¿Ñ€Ð¾Ñ„Ñ–Ð»ÑŽÐ’ÐºÐ»Ð°Ð´ÐºÐ¸ Ð² Ñ€ÐµÐ¶Ð¸Ð¼ÑctedRows; i++) {\n            result.push({ [this.model.rawAttributes[this.model.primaryKeyAttribute].field]: i });\n          }\n        } else {\n          result = data[this.getInsertIdField()];\n        }\n      }\n    }\n\n    if (this.isSelectQuery()) {\n      return this.handleSelectQuery(data);\n    }\n    if (this.isShowTablesQuery()) {\n      return this.handleShowTablesQuery(data);\n    }\n    if (this.isDescribeQuery()) {\n      result = {};\n\n      for (const _result of data) {\n        const enumRegex = /^enum/i;\n        result[_result.Field] = {\n          type: enumRegex.test(_result.Type) ? _result.Type.replace(enumRegex, 'ENUM') : _result.Type.toUpperCase(),\n          allowNull: _result.Null === 'YES',\n          defaultValue: _result.Default,\n          primaryKey: _result.Key === 'PRI',\n          autoIncrement: Object.prototype.hasOwnProperty.call(_result, 'Extra')\n            && _result.Extra.toLowerCase() === 'auto_increment',\n          comment: _result.Comment ? _result.Comment : null\n        };\n      }\n      return result;\n    }\n    if (this.isShowIndexesQuery()) {\n      return this.handleShowIndexesQuery(data);\n    }\n    if (this.isCallQuery()) {\n      return data[0];\n    }\n    if (this.isBulkUpdateQuery() || this.isBulkDeleteQuery()) {\n      return data.affectedRows;\n    }\n    if (this.isVersionQuery()) {\n      return data[0].version;\n    }\n    if (this.isForeignKeysQuery()) {\n      return data;\n    }\n    if (this.isUpsertQuery()) {\n      return [result, data.affectedRows === 1];\n    }\n    if (this.isInsertQuery() || this.isUpdateQuery()) {\n      return [result, data.affectedRows];\n    }\n    if (this.isShowConstraintsQuery()) {\n      return data;\n    }\n    if (this.isRawQuery()) {\n      // MySQL returns row data and metadata (affected rows etc) in a single object - let's standarize it, sorta\n      return [data, data];\n    }\n\n    return result;\n  }\n\n  async logWarnings(results) {\n    const warningResults = await this.run('SHOW WARNINGS');\n    const warningMessage = `MySQL Warnings (${this.connection.uuid || 'default'}): `;\n    const messages = [];\n    for (const _warningRow of warningResults) {\n      if (_warningRow === undefined || typeof _warningRow[Symbol.iterator] !== 'function') {\n        continue;\n      }\n      for (const _warningResult of _warningRow) {\n        if (Object.prototype.hasOwnProperty.call(_warningResult, 'Message')) {\n          messages.push(_warningResult.Message);\n        } else {\n          for (const _objectKey of _warningResult.keys()) {\n            messages.push([_objectKey, _warningResult[_objectKey]].join(': '));\n          }\n        }\n      }\n    }\n\n    this.sequelize.log(warningMessage + messages.join('; '), this.options);\n\n    return results;\n  }\n\n  formatError(err, errStack) {\n    const errCode = err.errno || err.code;\n\n    switch (errCode) {\n      case ER_DUP_ENTRY: {\n        const match = err.message.match(/Duplicate entry '([\\s\\S]*)' for key '?((.|\\s)*?)'?$/);\n        let fields = {};\n        let message = 'Validation error';\n        const values = match ? match[1].split('-') : undefined;\n        const fieldKey = match ? match[2].split('.').pop() : undefined;\n        const fieldVal = match ? match[1] : undefined;\n        const uniqueKey = this.model && this.model.uniqueKeys[fieldKey];\n\n        if (uniqueKey) {\n          if (uniqueKey.msg) message = uniqueKey.msg;\n          fields = _.zipObject(uniqueKey.fields, values);\n        } else {\n          fields[fieldKey] = fieldVal;\n        }\n\n        const errors = [];\n        _.forOwn(fields, (value, field) => {\n          errors.push(new sequelizeErrors.ValidationErrorItem(\n            this.getUniqueConstraintErrorMessage(field),\n            'unique violation', // sequelizeErrors.ValidationErrorItem.Origins.DB,\n            field,\n            value,\n            this.instance,\n            'not_unique'\n          ));\n        });\n\n        return new sequelizeErrors.UniqueConstraintError({ message, errors, parent: err, fields, stack: errStack });\n      }\n\n      case ER_ROW_IS_REFERENCED:\n      case ER_NO_REFERENCED_ROW: {\n        // e.g. CONSTRAINT `example_constraint_name` FOREIGN KEY (`example_id`) REFERENCES `examples` (`id`)\n        const match = err.message.match(\n          /CONSTRAINT ([`\"])(.*)\\1 FOREIGN KEY \\(\\1(.*)\\1\\) REFERENCES \\1(.*)\\1 \\(\\1(.*)\\1\\)/\n        );\n        const quoteChar = match ? match[1] : '`';\n        const fields = match ? match[3].split(new RegExp(`${quoteChar}, *${quoteChar}`)) : undefined;\n\n        return new sequelizeErrors.ForeignKeyConstraintError({\n          reltype: String(errCode) === String(ER_ROW_IS_REFERENCED) ? 'parent' : 'child',\n          table: match ? match[4] : undefined,\n          fields,\n          value: fields && fields.length && this.instance && this.instance[fields[0]] || undefined,\n          index: match ? match[2] : undefined,\n          parent: err,\n          stack: errStack\n        });\n      }\n\n      default:\n        return new sequelizeErrors.DatabaseError(err, { stack: errStack });\n    }\n  }\n\n  handleShowIndexesQuery(data) {\n    // Group by index name, and collect all fields\n    data = data.reduce((acc, item) => {\n      if (!(item.Key_name in acc)) {\n        acc[item.Key_name] = item;\n        item.fields = [];\n      }\n\n      acc[item.Key_name].fields[item.Seq_in_index - 1] = {\n        attribute: item.Column_name,\n        length: item.Sub_part || undefined,\n        order: item.Collation === 'A' ? 'ASC' : undefined\n      };\n      delete item.column_name;\n\n      return acc;\n    }, {});\n\n    return _.map(data, item => ({\n      primary: item.Key_name === 'PRIMARY',\n      fields: item.fields,\n      name: item.Key_name,\n      tableName: item.Table,\n      unique: item.Non_unique !== 1,\n      type: item.Index_type\n    }));\n  }\n}\n\nmodule.exports = Query;\nmodule.exports.Query = Query;\nmodule.exports.default = Query;\n"],
  "mappings": "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",
  "names": []
}
